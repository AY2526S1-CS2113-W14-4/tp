@startuml
!include Style.puml
title List Command - Sequence Diagram

'abstracted Logic components
participant "Logic" as Logic
participant "command : ListCommand" as Command

' Model components
participant "<<class>>\nInternshipList" as Model
participant "internship : Internship" as internship

' Ui component
participant "<<class>>\nUi" as Ui

' creation of ListCommand
create Command
Logic -> Command : new ListCommand(OrderType)
activate Command
Command --> Logic
deactivate Command

' execution of ListCommand
Logic -> Command : execute()
activate Command
Command -> Model : listAll()
activate Model
Model -> Model : isEmpty()
activate Model
Model --> Model : return isEmpty()
deactivate Model
alt list is empty
    Model -> Ui : printInternshipListEmpty()
    activate Ui

    Ui --> Model
    deactivate Ui
    Model --> Command
    Command --> Logic
else list is not empty
    Model -> Model : sortInternships(OrderType)
    activate Model
    Model --> Model
    deactivate Model
    Model -> Ui : printInternshipListHeader(messsage)
    activate Ui

    Ui --> Model
    deactivate Ui
    loop for each internship in List

        Model -> Ui : printInternshipListContent(internship)
        activate Ui
        Ui -> internship : getCompany()
        activate internship
        internship --> Ui : return company
        deactivate internship
        Ui -> internship : getRole()
        activate internship
        internship --> Ui : return role
        deactivate internship
        Ui -> internship : getDeadline()
        activate internship
        internship --> Ui : return deadline
        deactivate internship
        Ui -> internship : getPay()
        activate internship
        internship --> Ui : return pay
        deactivate internship
        Ui -> internship : getStatus()
        activate internship
        internship --> Ui : return status
        deactivate internship
        Ui --> Model
        deactivate Ui
    end
    Model --> Command
    deactivate Model
    Command --> Logic
    deactivate Command
end

@enduml